<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>CrossFit Games - The Open</title>

    <link
      href="https://fonts.googleapis.com/css?family=Oswald&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        background-color: #2dbdb6;
        font-family: "Oswald", sans-serif;
      }
      .top > img {
        margin-top: -120px;
        max-height: 350px;
      }

      .table {
        color: #000000;
        margin: 0 auto;
        margin-top: -90px;
      }

      ul {
        list-style-type: none;
        padding: 10px;
      }

      li {
        background-color: #54c4c7;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        margin: 5px 0;
        width: 100%;
      }

      li > div {
      }

      div.left {
        font-size: 1.85em;
        width: 400px;
      }

      div.week-result {
        font-size: 0.75em;
      }

      div.total-score {
        background-color: #f49127;
        color: #fff;
        font-size: 2.8em;
        padding-right: 5px;
        text-align: right;
        width: 100px;
      }
    </style>
  </head>
  <body>
    <div class="top">
      <img src="./open-logo-custom.svg" alt="" />
    </div>
    <div class="table">
      <ul id="results"></ul>
    </div>

    <script>
      var data = [
        {
          first_name: "Daniel",
          last_name: "Arvidsson",
          gender: "M",
          intheopen: "TRUE",
          total: 1,
          score201: "12:57",
          tb201: "",
          rx201: "TRUE",
          pos201: 1,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Daniel",
          last_name: "Brattschöld",
          gender: "M",
          intheopen: "TRUE",
          total: 2,
          score201: "14:36",
          tb201: "",
          rx201: "TRUE",
          pos201: 2,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Cissi",
          last_name: "Jansson",
          gender: "F",
          intheopen: "FALSE",
          total: 3,
          score201: "14:41",
          tb201: "",
          rx201: "TRUE",
          pos201: 3,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Robin",
          last_name: "Eriksson",
          gender: "M",
          intheopen: "TRUE",
          total: 4,
          score201: 162,
          tb201: "",
          rx201: "TRUE",
          pos201: 4,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Anton",
          last_name: "Andersson",
          gender: "M",
          intheopen: "TRUE",
          total: 5,
          score201: 150,
          tb201: "",
          rx201: "TRUE",
          pos201: 5,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Albin",
          last_name: "Åström",
          gender: "M",
          intheopen: "TRUE",
          total: 6,
          score201: 149,
          tb201: "",
          rx201: "TRUE",
          pos201: 6,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Niklas",
          last_name: "Rittblad",
          gender: "M",
          intheopen: "FALSE",
          total: 7,
          score201: 147,
          tb201: "",
          rx201: "TRUE",
          pos201: 7,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Daniella",
          last_name: "Johansson",
          gender: "F",
          intheopen: "TRUE",
          total: 8,
          score201: 129,
          tb201: "",
          rx201: "TRUE",
          pos201: 8,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Malvina",
          last_name: "Eklöf",
          gender: "F",
          intheopen: "FALSE",
          total: 9,
          score201: 126,
          tb201: "",
          rx201: "TRUE",
          pos201: 9,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Andreas",
          last_name: "Jagelund",
          gender: "M",
          intheopen: "TRUE",
          total: 10,
          score201: 124,
          tb201: "",
          rx201: "TRUE",
          pos201: 10,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Sebastian",
          last_name: "Wetterberg",
          gender: "M",
          intheopen: "TRUE",
          total: 11,
          score201: 113,
          tb201: "",
          rx201: "TRUE",
          pos201: 11,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Johan",
          last_name: "Sandgren",
          gender: "M",
          intheopen: "FALSE",
          total: 12,
          score201: 98,
          tb201: "",
          rx201: "TRUE",
          pos201: 12,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Christel",
          last_name: "Högberg Lundberg",
          gender: "F",
          intheopen: "TRUE",
          total: 13,
          score201: 97,
          tb201: "",
          rx201: "TRUE",
          pos201: 13,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "David",
          last_name: "Larson",
          gender: "M",
          intheopen: "TRUE",
          total: 14,
          score201: 93,
          tb201: "",
          rx201: "TRUE",
          pos201: 14,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Emmy",
          last_name: "Hall",
          gender: "F",
          intheopen: "FALSE",
          total: 15,
          score201: 82,
          tb201: "",
          rx201: "TRUE",
          pos201: 15,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Valeria",
          last_name: "Petrovets",
          gender: "F",
          intheopen: "TRUE",
          total: 16,
          score201: 78,
          tb201: "",
          rx201: "TRUE",
          pos201: 16,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Viktoria",
          last_name: "Wendschlag",
          gender: "F",
          intheopen: "TRUE",
          total: 17,
          score201: 77,
          tb201: "",
          rx201: "TRUE",
          pos201: 17,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Mihály",
          last_name: "Ollarí",
          gender: "M",
          intheopen: "FALSE",
          total: 18,
          score201: "",
          tb201: "",
          rx201: "",
          pos201: 18,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Mike",
          last_name: "Ekman",
          gender: "M",
          intheopen: "FALSE",
          total: 18,
          score201: "",
          tb201: "",
          rx201: "",
          pos201: 18,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Kristin",
          last_name: "Grímsdóttir",
          gender: "F",
          intheopen: "FALSE",
          total: 18,
          score201: "",
          tb201: "",
          rx201: "",
          pos201: 18,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Amanda",
          last_name: "Adebahr",
          gender: "F",
          intheopen: "FALSE",
          total: 18,
          score201: "",
          tb201: "",
          rx201: "",
          pos201: 18,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        },
        {
          first_name: "Malin",
          last_name: "Nordgren",
          gender: "F",
          intheopen: "FALSE",
          total: 18,
          score201: "",
          tb201: "",
          rx201: "",
          pos201: 18,
          score202: "",
          tb202: "",
          rx202: "",
          pos202: "",
          score203: "",
          tb203: "",
          rx203: "",
          pos203: "",
          score204: "",
          tb204: "",
          rx204: "",
          pos204: "",
          score205: "",
          tb205: "",
          rx205: "",
          pos205: ""
        }
      ];

      var resultsContainer = document.getElementById("results");
      try {
        var getScores = function(ath, week) {
          var index = "score" + week;
          if (!ath[index]) {
            return "";
          }
          return (
            '<div class="week-result week-' +
            week +
            '">' +
            ath[index] +
            "</div>"
          );
        };

        var createLine = function(ath) {
          var li = document.createElement("li");
          li.className = "athlete";
          var line = '<div class="left">';
          line =
            line +
            '<div class="name">' +
            ath.first_name +
            " " +
            ath.last_name +
            "</div>";
          line = line + '<div class="scores">';
          line = line + getScores(ath, "201");
          line = line + getScores(ath, "202");
          line = line + getScores(ath, "203");
          line = line + getScores(ath, "204");
          line = line + getScores(ath, "205");
          line = line + "</div>";
          line = line + "</div>";
          line = line + '<div class="total-score">' + ath.total + "</div>";
          li.innerHTML = line;
          resultsContainer.appendChild(li);
        };

        // // getting the text value from the database
        // var dbRef = firebase.database().ref("/");
        // dbRef.on("value", function(snap) {
        //   var data = snap.val();
        // data = data.sort(function(a, b) {
        //   return parseInt(a.total) > parseInt(b.total);
        // });

        for (var i = 0; i < data.length; i++) {
          createLine(data[i]);
        }
        // });
      } catch (ex) {
        resultsContainer.innerText = ex;
      }
    </script>
  </body>
</html>
